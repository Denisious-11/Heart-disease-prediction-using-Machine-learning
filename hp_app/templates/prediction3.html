{% load static %}
<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:100,200,300,400,500,600,700,800,900" rel="stylesheet">

    <title>Prediction</title>
    
    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Additional CSS Files -->
    <link rel="stylesheet" href="{% static 'assets/css/fontawesome.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/templatemo-grad-school.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/owl.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/lightbox.css' %}">
    <link href="{% static 'vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
    <style type="text/css">

body{
        /*background-image:url('static/vote.jpg')*/
       
      }
    

    
</style>

<style>
    .medusrtab {
font-family: Arial, Helvetica, sans-serif;
border-collapse: collapse;
width: 100%;
/* display: block; */
  height: auto;
  overflow: auto;
}

.medusrtab td, .medusrtab th {
border: 1px solid #ddd;
padding: 8px;
}

.medusrtab tr:nth-child(even){background-color: #f2f2f2;}

.medusrtab tr:hover {background-color: #ddd;}

.medusrtab th {
padding-top: 12px;
padding-bottom: 12px;
text-align: left;
background-color: #04AA6D;
color: white;
}
</style>

  </head>

<body>

    <!--header-->
  <header class="main-header clearfix" role="header">
    <div class="logo">
      <a href="#"><em style="font-size: 20px"> Cardiovascular monitoring system</em> </a>
    </div>
    <a href="#menu" class="menu-link"><i class="fa fa-bars"></i></a>
    <nav id="menu" class="main-nav" role="navigation">
      <ul class="main-menu">
        <li><a href="{% url 'user' %}">Home</a></li>

        <li><a href="{% url 'Prediction' %}">Check My Heart</a></li>
        <li><a href="{% url 'view_upload_file' %}">Upload Records</a></li>
        <li><a href="{% url 'Doctor_list_pats' %}">Chat</a></li>
     
    
        <li><a href="{% url 'display_login' %}">Logout</a></li>
       
      </ul>
    </nav>
  </header>
  <!-- ***** Main Banner Area Start ***** -->
  
  <!-- ***** Main Banner Area End ***** -->

  
  <div id='l' >
<center>
  <div style="width: 100%;margin-top: 100px;">
    <center>
      <div style="width: 60%;height: 1200px;background-color: rgb(223, 223, 223);">
        <h3 style="padding-top: 20px; ">Heart disease prediction</h3><br><br><br>


           <div class="col">
                <label for="age">Age</label>
                <input type="number" class="form-control" id="age" >
            </div>
            <div class="col">
                <label for="sex">Sex</label>
                <select class="form-control" id="sex">
                    <option value="1">Male</option>
                    <option value="0">Female</option>
                </select>
            </div>
            <div class="col">
                <label for="chest_pain_type">Chest Pain Type</label>
                <select class="form-control" id="chest_pain_type">
                    <option value="0">Typical Angina</option>
                    <option value="1">Atypical Angina</option>
                    <option value="2">Non-anginal Pain</option>
                    <option value="3">Asymptomatic</option>
                </select>
            </div>
            <div class="col">
                <label for="resting_blood_pressure">Resting Blood Pressure</label>
                <input type="number" class="form-control" id="resting_blood_pressure">
            </div>
            <div class="col">
                <label for="cholesterol">Serum Cholestoral (mg/dl)</label>
                <input type="number" class="form-control" id="cholesterol">
            </div>
            <div class="col">
                <label for="fasting_blood_sugar">Fasting Blood Sugar &gt; 120 mg/dl</label>
                <select class="form-control" id="fasting_blood_sugar">
                    <option value="1">Yes</option>
                    <option value="0">No</option>
                </select>
            </div>
            <div class="col">
                <label for="resting_ecg">Resting Electrocardiographic Results</label>
                <select class="form-control" id="resting_ecg">
                    <option value="0">Normal</option>
                    <option value="1">Abnormality</option>
                    <option value="2">Probable or Definite Left Ventricular Hypertrophy</option>
                </select>
            </div>
            <div class="col">
                <label for="max_heart_rate">Maximum Heart Rate Achieved</label>
                <input type="number" class="form-control" id="max_heart_rate">
            </div>
            <div class="col">
                <label for="exercise_induced_angina">Exercise Induced Angina</label>
                <select class="form-control" id="exercise_induced_angina">
                    <option value="1">Yes</option>
                    <option value="0">No</option>
                </select>
            </div>
            <div class="col">
                <label for="oldpeak">ST Depression Induced by Exercise Relative to Rest</label>
                <input type="number" class="form-control" id="oldpeak">
            </div>
            <div class="col">
                <label for="slope">Slope of the Peak Exercise ST Segment</label>
                <input type="number" class="form-control" id="slope">
            </div>
            <div class="col">
                <label for="num_vessels">Number of Major Vessels Colored by Flourosopy (0-3)</label>
                <input type="number" class="form-control" id="num_vessels">
            </div>
            <div class="col">
                <label for="thal">Thal</label>
                <select class="form-control" id="thal">
                    <option value="1">Normal (1)</option>
                    <option value="2">Fixed Defect (2)</option>
                    <option value="3">Reversible Defect (3)</option>
                </select>
            </div>
          
          
          <!-- </div> -->
     

         
       
        <div class="mt-3" style="width: 200px;">
          <a class="btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn" id="upload">Check</a>
        </div>

        <h3 style="margin-top: 50px;color:tomato" id="resid"></h3>
      </div>
      
    </center>
    
  </div>
        </center>
    </div>
  

 


  <footer style="position:relative;top:700px">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <p><i class="fa fa-copyright"></i> Copyright 2020 by Grad School  
          
           | Design: <a href="https://templatemo.com" rel="sponsored" target="_parent">Me</a></p>
        </div>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <!-- Bootstrap core JavaScript -->
   <script src="{% static 'jquery.min.js' %}"></script>
   

    <script type="text/javascript">
    $(document).ready(function(){
         $('#upload').click(function(){
            var age = $('#age').val();
            var sex = $('#sex').val();
            var chest_pain_type = $('#chest_pain_type').val();
            var resting_blood_pressure = $('#resting_blood_pressure').val();
            var cholesterol = $('#cholesterol').val();
            var fasting_blood_sugar = $('#fasting_blood_sugar').val();
            var resting_ecg = $('#resting_ecg').val();
            var max_heart_rate = $('#max_heart_rate').val();
            var exercise_induced_angina = $('#exercise_induced_angina').val();
            var oldpeak = $('#oldpeak').val();
            var slope = $('#slope').val();
            var num_vessels = $('#num_vessels').val();
            var thal = $('#thal').val();

            // Check if any field is empty
            if(age == "" || sex == "" || chest_pain_type == "" || resting_blood_pressure == "" || cholesterol == "" || fasting_blood_sugar == "" || resting_ecg == "" || max_heart_rate == "" || exercise_induced_angina == "" || oldpeak == "" || slope == "" || num_vessels == "" || thal == "") {
                alert("Please provide all details");
            } else {
                $.ajax({
                    url: "check_my_heart",
                    dataType: "json",
                    data: {
                        age: age,
                        sex: sex,
                        chest_pain_type: chest_pain_type,
                        resting_blood_pressure: resting_blood_pressure,
                        cholesterol: cholesterol,
                        fasting_blood_sugar: fasting_blood_sugar,
                        resting_ecg: resting_ecg,
                        max_heart_rate: max_heart_rate,
                        exercise_induced_angina: exercise_induced_angina,
                        oldpeak: oldpeak,
                        slope: slope,
                        num_vessels: num_vessels,
                        thal: thal
                    },
                    success: function(d) {
                        if(d.status == 0) {
                            alert("Some error occurred");
                        } else {
                            document.getElementById("resid").innerHTML = d.status;
                        }
                    }
                });
            }
        });
    });
</script>



    <script src="{% static 'vendor/jquery/jquery.min.js' %}"></script>
    <script src="{% static 'vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>

   
    <script src="{% static 'assets/js/owl-carousel.js' %}"></script>
    <script src="{% static 'assets/js/lightbox.js' %}"></script>
    <script src="{% static 'assets/js/tabs.js' %}"></script>
    <script src="{% static 'assets/js/video.js' %}"></script>
    <script src="{% static 'assets/js/slick-slider.js' %}"></script>
    <script src="{% static 'assets/js/custom.js' %}"></script>
    <script>
        //according to loftblog tut
       
    </script>
</body>
</html>